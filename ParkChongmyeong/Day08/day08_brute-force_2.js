// í”¼ë¡œë„

/**
 * âœï¸ ëª©í‘œ
 * - í”¼ë¡œë„ë¥¼ ê³„ì‚°í•˜ì—¬ ìµœëŒ€ ë˜ì „ ìˆ˜ë¥¼ íƒí—˜í•  ìˆ˜ ìžˆëŠ” ê°€ì§“ìˆ˜ return
 *
 * â–º ì˜ˆìƒ ë¡œì§ dfs
 * 1. dfsë¥¼ ì´ìš©í•˜ì—¬ ëª¨ë“  ë˜ì „ì„ ìˆœíšŒí•˜ë©° íƒí—˜ íšŸìˆ˜ count
 * 2. íƒí—˜ì„ í•œ í›„ íƒí—˜ íšŸìˆ˜ì™€ ìµœëŒ€ íšŸìˆ˜ë¥¼ ë¹„êµí•˜ë©° ìµœëŒ€ íšŸìˆ˜ ê°±ì‹ 
 * 3. dfs ìž¬ê·€ ì¢…ë£Œ í›„ ì •ë‹µ return
 */

function solution(k, dungeons) {
  let answer = 0;
  let visited = new Array(dungeons.length).fill(false);

  // í˜„ìž¬ í”¼ë¡œë„ê³¼ íƒí—˜ íšŸìˆ˜
  const dfs = (nowK, cntK) => {
    for(let i = 0 ; i < dungeons.length; i++) {
      // ë°©ë¬¸í•˜ì§€ ì•Šì•˜ê³  ë˜ì „ì˜ ìµœì†Œ í”¼ë¡œë„ê°€ í˜„ìž¬ í”¼ë¡œë„ë³´ë‹¤ ë‚®ì„ ë•Œ
      if(!visited[i] && dungeons[i][0] <= nowK) {
        visited[i] = true;
        dfs(nowK - dungeons[i][1], cntK+1);
        visited[i] = false;
      }
    }

    answer = Math.max(answer, cntK);
  }

  dfs(k,0)

  return answer;
}

/**
 * ðŸ“– í’€ì´ ê³¼ì • ì„¤ëª…
 *
 * 1. visited(ë°©ë¬¸ ì—¬ë¶€)ë¥¼ ë˜ì „ì˜ í¬ê¸°ë§Œí¼ ì„¤ì •
 * `new Array`ì™€ `fill()`ì„ ì´ìš©í•˜ì—¬ ë˜ì „ì˜ í¬ê¸°ë§Œí¼ boolean í˜•íƒœë¡œ ì´ˆê¸°í™”
 * 2. dfsë¥¼ í˜„ìž¬ í”¼ë¡œë„ì™€ íƒí—˜ íšŸìˆ˜ë¥¼ ì¸ìžë¡œ ì„¤ì •í•˜ë©° í•¨ìˆ˜ ì •ì˜
 * If) ë˜ì „ì„ ë°©ë¬¸í•˜ì§€ ì•Šê³  ìµœì†Œ í”¼ë¡œë„ê°€ í˜„ìž¬ í”¼ë¡œë„ë³´ë‹¤ ë‚®ìœ¼ë©´
 * In if) ë°©ë¬¸ì„ true ì„¤ì •
 * In if) ìž¬ê·€í•¨ìˆ˜ë¥¼ í†µí•´ í˜„ìž¬ í”¼ë¡œë„ë¥¼ í˜„ìž¬í”¼ë¡œë„-ì†Œëª¨í”¼ë¡œë„ë¡œ ê°±ì‹ , íƒí—˜ íšŸìˆ˜ + 1
 * In if) ëª¨ë“  íƒí—˜ì„ ì™„ë£Œí•˜ë©´ visitedë¥¼ ë‹¤ì‹œ falseë¡œ ë°”ê¾¸ì–´ ì¤€ë‹¤.(ìµœëŒ€ë¥¼ ì°¾ê¸° ìœ„í•´ ë°˜ë³µí•˜ë©° ë˜ì „ì„ ëŒì•„ì•¼í•¨)
 * `Math.max(ìµœëŒ€, í˜„ìž¬ íƒí—˜ ë£¨íŠ¸ì˜ íƒí—˜ íšŸìˆ˜)`ë¡œ ìµœëŒ€ ìˆ˜ë¥¼ ê°±ì‹ 
 * 3. ì •ë‹µ return í•œë‹¤.
 */