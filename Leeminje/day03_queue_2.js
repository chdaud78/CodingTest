// í”„ë¡œì„¸ìŠ¤

/**
 * âœï¸ ë¬¸ì œ ê°œìš”
 * - ì¸ì‡„ ëŒ€ê¸° ëª©ë¡ì—ì„œ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ë¬¸ì„œë¶€í„° ì¶œë ¥ë˜ëŠ” ìƒí™©ì„ ì‹œë®¬ë ˆì´ì…˜
 * âœï¸ ëª©í‘œ
 * - ê° ë¬¸ì„œì˜ ì¸ë±ìŠ¤ë¥¼ ì¶”ì í•˜ë©°
 * - ìš°ì„ ìˆœìœ„ ë¹„êµ â†’ ë’¤ë¡œ ë³´ë‚¼ì§€ / ì¸ì‡„í• ì§€ ê²°ì •
 * - ë‚´ê°€ ìš”ì²­í•œ ë¬¸ì„œê°€ ëª‡ ë²ˆì§¸ë¡œ ì¶œë ¥ë˜ëŠ”ì§€ ë°˜í™˜
 * âœï¸ ì˜ˆìƒ ë¡œì§
 * 1. í•˜ë‚˜ì˜ í”„ë¦°í„°ê°€ ì—¬ëŸ¬ ê°œì˜ ì¸ì‡„ ìš”ì²­ì„ ë°›ìŒ
 * 2. ì¸ì‡„ ìš”ì²­ì€ ìš´ì„œëŒ€ë¡œ ì²˜ë¦¬ë˜ì§€ë§Œ, ëŒ€ê¸°ì—´ ì¤‘ ë” ë†’ì€ ìš°ì„ ìˆœìœ„(priority)ê°€ ìžˆë‹¤ë©´, í˜„ìž¬ ë¬¸ì„œëŠ” ë§¨ ë’¤ë¡œ ì´ë™
 * 3. ë‚´ê°€ ìš”ì²­í•œ ë¬¸ì„œëŠ” ëª‡ ë²ˆì¨°ë¡œ ì¸ì‡„ë˜ëŠ”ê°€!
 */

// ì´ˆê¸° ì½”ë“œ
function solution(priorities, location) {
  const queue = priorities.map((priority, index) => ({ index, priority }));
  let count = 0;

  while (queue.length) {
    const current = queue.shift();
    const hasHigherPriority = queue.some((item) => item.priority > current.priority);

    if (hasHigherPriority) {
      queue.push(current);
    } else {
      count++;
      if (current.index === location) return count;
    }
  }
}

/** ðŸ“– í’€ì´ ê³¼ì •
 * - queue: ê° ë¬¸ì„œë¥¼ ê°ì²´ { index, priority }ë¡œ êµ¬ì„±í•´ ìœ„ì¹˜ ì¶”ì  ê°€ëŠ¥
 * - some(): í˜„ìž¬ ë¬¸ì„œë³´ë‹¤ ë” ë†’ì€ ìš°ì„ ìˆœìœ„ê°€ ìžˆëŠ”ì§€ íŒë‹¨
 * - ì¡°ê±´ì— ë”°ë¼ â†’ ì¶œë ¥ ì²˜ë¦¬ or ë‹¤ì‹œ ë’¤ë¡œ ë³´ëƒ„
 */

// ê¸°ì¡´ í’€ì´(ì´ˆê¸° ì½”ë“œ ê°œì„ )
function solution(priorities, location) {
  const queue = priorities.map((priority, index) => ({ index, priority }));
  let count = 0;

  while (queue.length) {
    const current = queue.shift();
    const maxPriority = Math.max(...queue.map((item) => item.priority));

    if (current.priority < maxPriority) {
      queue.push(current);
    } else {
      count++;
      if (current.index === location) return count;
    }
  }
}

/**
 * âœ… ê°œì„  í¬ì¸íŠ¸
 * 1. Math.max(...) - í˜„ìž¬ ë¬¸ì„œë³´ë‹¤ ìš°ì„ ìˆœìœ„ ìµœëŒ€ê°’ì„ ëª…í™•ížˆ í™•ì¸
 * 2. ë¹„êµ ë°©ì‹ ê°œì„  - some() ì¡°ê±´ íŒë‹¨ë³´ë‹¤ â†’ ìš°ì„ ìˆœìœ„ ëª…í™•í•œ ìˆ˜ì¹˜ ë¹„êµë¡œ ë” ì•ˆì •ì 
 * 3. ì„±ëŠ¥ ê°œì„  - some()ì€ ì¡°ê±´ ë§Œì¡±í•  ë•Œ ì¢…ë£Œë˜ì§€ë§Œ, max()ëŠ” íŒë‹¨ì´ ë” ì§ê´€ì 
 */

/** ðŸ“– í’€ì´ ê³¼ì •
 * 1. í ì´ˆê¸°í™” â†’ ë¬¸ì„œì˜ ì¸ë±ìŠ¤ì™€ ìš°ì„ ìˆœìœ„ë¥¼ ê°ì²´ë¡œ ë§¤í•‘í•´ ì¶”ì  ìš©ì´í•˜ê²Œ ë§Œë“¦
 * 2. ë°˜ë³µ ì²˜ë¦¬ ì‹œìž‘ â†’ queue.shift()ë¡œ ë¬¸ì„œ êº¼ëƒ„
 * 3. ìµœëŒ“ê°’ê³¼ ë¹„êµ â†’ ë‚¨ì•„ìžˆëŠ” ë¬¸ì„œ ì¤‘ í˜„ìž¬ë³´ë‹¤ ë†’ì€ ìš°ì„ ìˆœìœ„ê°€ ìžˆìœ¼ë©´ â†’ ë’¤ë¡œ ë³´ëƒ„
 * 4. ì¸ì‡„ ì²˜ë¦¬ â†’ ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ count++, ì¸ì‡„ ìˆœì„œ ì¦ê°€
 * 5. ë‚´ ë¬¸ì„œ ìœ„ì¹˜ í™•ì¸ â†’ í˜„ìž¬ ë¬¸ì„œì˜ indexê°€ locationê³¼ ê°™ë‹¤ë©´ â†’ ì¶œë ¥ ìˆœì„œë¥¼ ë°˜í™˜í•˜ê³  ì¢…ë£Œ
 */
