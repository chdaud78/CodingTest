// Nìœ¼ë¡œ í‘œí˜„

/**
 * âœï¸ ë¬¸ì œ
 * - numberë¥¼ ë§Œë“œëŠ” ë°©ë²• ì¤‘ Nì„ ì‚¬ìš©í•œ ìµœì†Œ íšŸìˆ˜(ìµœëŒ€ 8íšŒ) ë¥¼ êµ¬í•˜ê¸°
 *
 * âœï¸ ëª©í‘œ
 * - 1íšŒ ~ 8íšŒê¹Œì§€ Nì„ ì‚¬ìš©í•´ ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª¨ë“  ê°’ë“¤ì„ ì ì§„ì ìœ¼ë¡œ êµ¬ì„±í•˜ë©´ì„œ
 *   ëª©í‘œê°’ì´ ì²˜ìŒ ë“±ì¥í•˜ëŠ” ìµœì†Œ ì‚¬ìš© íšŸìˆ˜ë¥¼ ë°˜í™˜
 *
 * âœï¸ í•´ê²° ì „ëµ
 * 1) dp[i] = Nì„ ië²ˆ ì‚¬ìš©í•´ì„œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª¨ë“  ê°’ì˜ ì§‘í•©(Set).
 * 2) ê° ë‹¨ê³„ iì—ì„œ:
 *    - ì´ì–´ë¶™ì¸ ìˆ˜ë¥¼ dp[i]ì— ì¶”ê°€.
 *    - ì‚¬ì¹™ì—°ì‚°ìœ¼ë¡œ ì¡°í•©í•´ dp[i]ë¥¼ í™•ì¥
 * 3) "íŠ¹ì • ê°’ vë¥¼ ë§Œë“œëŠ” ìµœì†Œ ì‚¬ìš© íšŸìˆ˜"ë¥¼ ê¸°ë¡í•˜ì—¬ ë” ë¹„ì‹¼ ë¹„ìš©ìœ¼ë¡œ ê°™ì€ ê°’ì„ ë‹¤ì‹œ ë„£ì§€ ì•ŠìŒ
 * 4) ê° ë‹¨ê³„ì—ì„œ ëª©í‘œê°’ì´ ë§Œë“¤ì–´ì§€ë©´ ì¦‰ì‹œ ë°˜í™˜(ì¡°ê¸° ì¢…ë£Œ).
 * 5) 8íšŒê¹Œì§€ ëª» ë§Œë“¤ë©´ -1 ë°˜í™˜.
 */

// âœ… í’€ì´ ì½”ë“œ
function solution(N, number, LIMIT = 64000) {
  if (N === number) return 1;

  // ê°’ ë²”ìœ„ ì œí•œ (0ì´ë©´ ì œí•œ í•´ì œ). ì§€ë‚˜ì¹˜ê²Œ í° ì¤‘ê°„ê°’ ë°°ì œ
  const inRange = (x) => LIMIT === 0 || (-LIMIT <= x && x <= LIMIT);

  // minCost: ê°’ -> ê·¸ ê°’ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìµœì†Œ ì‚¬ìš© íšŸìˆ˜
  const minCost = new Map();

  // dp[i]: Nì„ ië²ˆ ì‚¬ìš©í•´ì„œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê°’ë“¤ì˜ ì§‘í•©
  const dp = Array.from({ length: 9 }, () => new Set());

  // dp[i]ì— ê°’ ì¶”ê°€(ì „ì—­ ìµœì†Œ ì‚¬ìš© íšŸìˆ˜ ê°±ì‹  ë° ëª©í‘œ ì²´í¬)
  let found = false;
  const makeAdder = (bucket, cost) => (val) => {
    if (!inRange(val)) return;
    const prev = minCost.get(val);
    if (prev !== undefined && prev <= cost) return; // ë” ë¹„ì‹¼ ë¹„ìš©ì´ë©´ ìŠ¤í‚µ
    minCost.set(val, cost);
    bucket.add(val);
    if (val === number) found = true; // ì¡°ê¸° ì¢…ë£Œ í”Œë˜ê·¸
  };

  // ì´ì–´ë¶™ì¸ ìˆ˜
  let concatNum = 0;

  // i = N ì‚¬ìš© íšŸìˆ˜ (1 ~ 8)
  for (let i = 1; i <= 8; i++) {
    const add = makeAdder(dp[i], i);

    // 1) ì´ì–´ë¶™ì¸ ìˆ˜ ì¶”ê°€í•˜ê¸°
    concatNum = concatNum * 10 + N;
    add(concatNum);
    if (found) return i;

    // 2) ë¶„í•  ì¡°í•©
    const half = Math.floor(i / 2);
    for (let j = 1; j <= half; j++) {
      const leftOperands = Array.from(dp[j]);
      const rightOperands = Array.from(dp[i - j]);

      // Set -> Array í›„ ì¸ë±ìŠ¤ for ë£¨í”„(ì´í„°ë ˆì´í„° ì˜¤ë²„í—¤ë“œ ì¤„ì´ê¸°)
      for (let li = 0, L = leftOperands.length; li < L; li++) {
        const left = leftOperands[li];
        for (let ri = 0, R = rightOperands.length; ri < R; ri++) {
          const right = rightOperands[ri];

          // êµí™˜ë²•ì¹™ ì—°ì‚°: í•œ ë²ˆë§Œ ìƒì„±
          add(left + right);
          add(left * right);

          // ë¹„êµí™˜ ì—°ìƒ: ì–‘ë°©í–¥ ëª¨ë‘ ìƒì„±
          add(left - right);
          add(right - left);

          // ë‚˜ëˆ—ì…ˆ: 0 ë‚˜ëˆ” ë°©ì§€ + 0ìª½ìœ¼ë¡œ ë²„ë¦¼(Math.trunc)
          if (right !== 0) add(Math.trunc(left / right));
          if (left !== 0) add(Math.trunc(right / left));
        }
      }

      if (found) return i; // ì¤‘ê°„ì—ë„ ëª©í‘œ ë‚˜ì˜¤ë©´ ì¡°ê¸° ì¢…ë£Œ
    }

    if (found) return i;
  }

  // ì‹¤íŒ¨
  return -1;
}

/**
 * ğŸ“– í’€ì´ ê³¼ì • ì •ë¦¬
 *
 * 0ï¸âƒ£ DPë¥¼ ì“°ëŠ” ì´ìœ 
 * - iíšŒì— ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª¨ë“  ê°’ì„ dp[i]ì— ëª¨ì•„ë‘ë©´,
 *   (j, i-j)ë¡œ ìª¼ê°œ ë‘ ì§‘í•©ì˜ ëª¨ë“  ì¡°í•©ì„ ì‚¬ì¹™ì—°ì‚°ìœ¼ë¡œ í•©ì„±í•´ dp[i]ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ.
 * - ê°™ì€ ê°’ì„ ë” í° ë¹„ìš©ìœ¼ë¡œ ë‹¤ì‹œ ë§Œë“¤ í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ ì „ì—­ ìµœì†Œ ë¹„ìš©(minCost)ìœ¼ë¡œ ê°€ì§€ì¹˜ê¸°.
 *
 * 1ï¸âƒ£ ì´ì–´ë¶™ì¸ ìˆ˜ ì²˜ë¦¬
 * - iê°€ 1ì”© ì¦ê°€í•  ë•Œë§ˆë‹¤ concatNum = concatNum * 10 + N ë°©ì‹ìœ¼ë¡œ
 *   ë¬¸ìì—´ ë³€í™˜ ì—†ì´ ë¹ ë¥´ê²Œ N, NN, NNNì„ ìƒì„±.
 *
 * 2ï¸âƒ£ ëŒ€ì¹­ ë¶„í• 
 * - (j, i-j)ì™€ (i-j, j)ëŠ” êµí™˜ì´ë¯€ë¡œ j â‰¤ âŒŠi/2âŒ‹ê¹Œì§€ë§Œ íƒìƒ‰í•´ ì¤‘ë³µ ì ˆê°.
 * - +, *ëŠ” êµí™˜ë²•ì¹™ì´ ìˆì–´ í•œ ë²ˆë§Œ ìƒì„±í•˜ê³ ,
 *   -, /ëŠ” ìˆœì„œì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¤ë¥´ë¯€ë¡œ ì–‘ë°©í–¥ ëª¨ë‘ ìƒì„±.
 *
 * 3ï¸âƒ£ ì¡°ê¸° ì¢…ë£Œ
 * - ê°’ ì¶”ê°€ ì‹œë§ˆë‹¤ ëª©í‘œê°’ì„ ì²´í¬í•´ ë°œê²¬ ì¦‰ì‹œ ë°˜í™˜ â†’ ë¶ˆí•„ìš”í•œ ì—°ì‚° ê°ì†Œ.
 *
 * 4ï¸âƒ£ ë²”ìœ„ ì œí•œ(LIMIT)
 * - ì¤‘ê°„ê°’ì´ ë„ˆë¬´ ì»¤ì§€ë©´ ì´í›„ ì—°ì‚°ì—ë„ ì˜ ì“°ì´ì§€ ì•Šìœ¼ë¯€ë¡œ
 *   LIMIT ë°”ê¹¥ì˜ ê°’ì€ ë²„ë ¤ ì„±ëŠ¥ì„ ë†’ì¼ ìˆ˜ ìˆìŒ.
 *   (ì •í™•ë„ê°€ ì¤‘ìš”í•˜ë©´ LIMIT=0ìœ¼ë¡œ êº¼ë„ ë¨)
 *
 * 5ï¸âƒ£ ë³µì¡ë„ ê´€ì 
 * - i â‰¤ 8ë¡œ ë§¤ìš° ì‘ê³ , ê° dpì˜ í¬ê¸°ëŠ” ê°€ì§€ì¹˜ê¸°ë¡œ ì œì–´ë¨.
 *   ì‹¤ì „ ì½”ë”©í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì¶©ë¶„íˆ ë¹ ë¥´ê²Œ ë™ì‘.
 *
 * ğŸ’¡ íŒ
 * - LIMITë¥¼ ìƒí™©ì— ë§ê²Œ ì¡°ì •(ì‘ê²Œ: ë¹ ë¦„, í¬ê²Œ/0: ë³´ìˆ˜ì  ì •í™•ì„±â†‘).
 * - í•„ìš”í•˜ë©´ Set â†’ Array ë³€í™˜ì„ ê°™ì€ i ì•ˆì—ì„œ ìºì‹±í•´ë„ ë˜ì§€ë§Œ
 *   ë³´í†µ ìœ„ ì½”ë“œë§Œìœ¼ë¡œë„ ì¶©ë¶„íˆ í†µê³¼ë¨.
 */

// âœ… ì´ì „ ì½”ë“œ
/**
function solution(N, number) {
  if (N === number) return 1;

  const dp = Array.from({ length: 9 }, () => new Set());
  const concat = (n, k) => Number(String(n).repeat(k));
  const truncDiv = (a, b) => Math.trunc(a / b); // 0ìª½ìœ¼ë¡œ ë²„ë¦¼

  for (let i = 1; i <= 8; i++) {
    // 1) ì—°ì†ëœ N(iê°œ)ë¡œ ë§Œë“  ìˆ˜ ì¶”ê°€
    dp[i].add(concat(N, i));

    // 2) j + (i-j)ë¡œ ìª¼ê°œì„œ í•©ì„±
    for (let j = 1; j < i; j++) {
      for (const a of dp[j]) {
        for (const b of dp[i - j]) {
          dp[i].add(a + b);
          dp[i].add(a - b);
          dp[i].add(b - a);
          dp[i].add(a * b);
          if (b !== 0) dp[i].add(truncDiv(a, b));
          if (a !== 0) dp[i].add(truncDiv(b, a));
        }
      }
    }

    // 3) ëª©í‘œ ìˆ˜ê°€ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ í™•ì¸
    if (dp[i].has(number)) return i;
  }

  return -1; // 8ë²ˆê¹Œì§€ ì•ˆ ë˜ë©´ -1
}
*/

/**
 * ğŸ“– ì´ì „ í’€ì´ì˜ í•œê³„
 * - ë™ì¼í•œ ê°’ì„ ë” ë§ì€ N ì‚¬ìš© íšŸìˆ˜ë¡œ ë‹¤ì‹œ ë§Œë“œëŠ” ê²½ìš°ë„ ê³„ì† ì €ì¥ë˜ì–´, ì—°ì‚°ëŸ‰ì´ ì¦ê°€í•¨.
 * - ë§¤ìš° í° ìˆ˜ë‚˜ ìŒìˆ˜ë„ ëª¨ë‘ ì €ì¥í•˜ë¯€ë¡œ, ë¶ˆí•„ìš”í•˜ê²Œ íƒìƒ‰í•˜ê²Œ ë¨.
 * - ëª©í‘œê°’ì´ ë‚˜ì™€ë„ í•´ë‹¹ i ë£¨í”„ë¥¼ ëê¹Œì§€ ëŒì•„ì•¼ í•˜ë¯€ë¡œ ë¶ˆí•„ìš”í•œ ì—°ì‚°ì´ ë°œìƒ
 * - for-of ìˆœíšŒë§Œ ì‚¬ìš©í•´ ë°˜ë³µ ì‹œë§ˆë‹¤ ì´í„°ë ˆì´í„° ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•  ìˆ˜. ã…£ã…†ìŒ
 */
